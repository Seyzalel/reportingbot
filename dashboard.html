<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Painel de Denúncias – Reporting Bot</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"><style>:root{--primary:#6366f1;--primary-dark:#4f46e5;--primary-darker:#4338ca;--secondary:#8b5cf6;--accent:#ec4899;--light:#fff;--light-gray:#f8fafc;--gray:#e2e8f0;--dark-gray:#64748b;--darker-gray:#475569;--dark:#0f172a;--success:#10b981;--error:#ef4444;--warning:#f59e0b;--r:18px;--pad:clamp(1rem,2.5vw,2rem);--gap:clamp(.8rem,2.2vw,1.6rem);--fs-xxl:clamp(1.6rem,4.5vw,3rem);--fs-xl:clamp(1.3rem,3vw,2.2rem);--fs-lg:clamp(1.05rem,1.8vw,1.35rem);--fs-md:clamp(.95rem,1.4vw,1.05rem);--fs-sm:clamp(.85rem,1.1vw,.95rem)}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(135deg,#f8fafc,#f1f5f9);color:var(--dark)}a{text-decoration:none;color:inherit}.container{width:min(1200px,92%);margin-inline:auto;padding-inline:clamp(.8rem,2vw,1.6rem)}header{padding-top:clamp(2rem,6vw,4rem);padding-bottom:clamp(1rem,3vw,2rem);text-align:center;position:relative}header::after{content:"";position:absolute;inset:auto 10% 0 10%;height:1px;background:linear-gradient(90deg,transparent,var(--gray),transparent)}.brand{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:.6rem}.brand-badge{width:clamp(2.6rem,8vw,4.2rem);height:clamp(2.6rem,8vw,4.2rem);border-radius:22%;background:linear-gradient(135deg,var(--primary),var(--secondary));display:grid;place-items:center;box-shadow:0 18px 45px -14px rgba(99,102,241,.35)}.brand-badge i{font-size:clamp(1.1rem,3vw,1.6rem);color:#fff}.brand-title{font-weight:900;font-size:var(--fs-xxl);background:linear-gradient(90deg,var(--primary) 10%,var(--secondary) 55%,var(--accent) 95%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-.02em}.tagline{font-size:var(--fs-lg);color:var(--darker-gray);max-width:65ch;margin:0 auto}.grid{display:grid;grid-template-columns:1.1fr .9fr;gap:var(--gap);margin-block:clamp(1rem,4vw,2rem)}@media(max-width:980px){.grid{grid-template-columns:1fr}}.card{background:var(--light);border:1px solid var(--gray);border-radius:var(--r);padding:var(--pad);box-shadow:0 10px 40px -18px rgba(0,0,0,.08);position:relative;overflow:hidden}.card::before{content:"";position:absolute;inset:auto -30% 0 -30%;height:1px;opacity:.5;background:radial-gradient(60% 60% at 50% 50%,rgba(99,102,241,.25),transparent 70%)}.section-title{display:flex;align-items:center;gap:.7rem;font-size:var(--fs-xl);font-weight:800;margin:0 0 1rem 0;color:var(--primary-dark)}.section-title i{color:var(--secondary)}.features{display:grid;gap:.8rem;grid-template-columns:repeat(2,minmax(0,1fr))}@media(max-width:640px){.features{grid-template-columns:1fr}}.feature{background:linear-gradient(180deg,#fff,rgba(255,255,255,.9));border:1px solid var(--gray);border-radius:14px;padding:1rem;display:flex;gap:.9rem;align-items:flex-start;transition:transform .2s,box-shadow .2s}.feature:hover{transform:translateY(-2px);box-shadow:0 10px 30px -10px rgba(99,102,241,.25)}.feature i{font-size:1.1rem;color:var(--primary);min-width:1.4rem;display:grid;place-items:center}.feature h4{font-size:var(--fs-md);margin:.1rem 0 .25rem 0}.feature p{margin:0;color:var(--dark-gray);font-size:var(--fs-sm);line-height:1.55}.userbar{width:100%;margin:clamp(.6rem,2vw,1.2rem) auto}.usercard{display:flex;justify-content:space-between;align-items:center;gap:1rem;background:linear-gradient(180deg,rgba(255,255,255,.96),rgba(255,255,255,.9));border:1px solid var(--gray);border-radius:16px;padding:.8rem 1rem;box-shadow:0 14px 26px -18px rgba(0,0,0,.12)}.user-left{display:flex;align-items:center;gap:.9rem}.avatar{width:2.6rem;height:2.6rem;border-radius:12px;background:linear-gradient(135deg,#fff,rgba(255,255,255,.85));display:grid;place-items:center;border:1px solid var(--gray)}.avatar i{color:var(--primary)}.hello{font-weight:800;font-size:var(--fs-md)}.chips{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.2rem}.chip{font-size:.85rem;padding:.35rem .6rem;border-radius:999px;border:1px solid var(--gray);background:rgba(99,102,241,.04);font-weight:800;display:inline-flex;align-items:center;gap:.4rem}.chip.plan.essencial{background:rgba(99,102,241,.08);color:var(--primary)}.chip.plan.profissional{background:rgba(139,92,246,.08);color:var(--secondary)}.chip.plan.vitalicio{background:rgba(16,185,129,.12);color:var(--success)}.chip.status.ok{background:rgba(16,185,129,.12);color:var(--success)}.chip.status.limited{background:rgba(239,68,68,.12);color:var(--error)}.btn{appearance:none;border:none;cursor:pointer;border-radius:12px;padding:.7rem .95rem;font-weight:900;font-size:var(--fs-sm);color:#fff;background:linear-gradient(90deg,var(--primary),var(--secondary));box-shadow:0 10px 24px -12px rgba(99,102,241,.4);transition:transform .12s,filter .12s}.btn:active{transform:translateY(1px)}.btn.outline{background:#fff;color:var(--primary-dark);border:1px solid var(--gray)}.btns{display:flex;gap:.5rem;align-items:center}.form .row{display:grid;gap:var(--gap)}.form .row.two{grid-template-columns:1fr 1fr}@media(max-width:720px){.form .row.two{grid-template-columns:1fr}}.label{display:flex;align-items:center;gap:.6rem;font-weight:700;color:var(--darker-gray);font-size:var(--fs-sm);margin-bottom:.45rem}.input{width:100%;font-size:var(--fs-md);padding:1rem;background:#fff;border:1px solid var(--gray);color:var(--dark);border-radius:14px;outline:0;transition:border-color .15s,box-shadow .15s}.input:focus{border-color:var(--primary);box-shadow:0 0 0 .25rem rgba(99,102,241,.12)}.select-wrap{position:relative}.select-trigger{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.8rem;padding:1rem;border-radius:14px;border:1px solid var(--gray);background:linear-gradient(180deg,#fff,rgba(255,255,255,.92));color:var(--dark);font-size:var(--fs-md);cursor:pointer}.select-left{display:flex;align-items:center;gap:.7rem;min-width:0}.select-icon{width:1.6rem;height:1.6rem;border-radius:10px;display:grid;place-items:center;background:rgba(99,102,241,.1);color:var(--primary)}.select-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.chev{opacity:.8;transition:transform .15s}.menu{position:absolute;inset:auto 0 0 0;transform:translateY(calc(100% + .45rem));background:#fff;border:1px solid var(--gray);border-radius:14px;box-shadow:0 16px 36px -16px rgba(0,0,0,.18);display:none;max-height:50vh;overflow:auto;z-index:40}.menu.open{display:block;animation:fadeIn .12s}.opt{display:flex;align-items:center;gap:.7rem;padding:.85rem 1rem;font-size:var(--fs-md);cursor:pointer}.opt i{width:1.2rem;text-align:center;color:var(--primary)}.opt:hover{background:rgba(99,102,241,.06)}.badge{display:inline-flex;align-items:center;gap:.45rem;font-size:.9rem;padding:.5rem .75rem;border-radius:12px;border:1px solid var(--gray);background:#fff;color:var(--darker-gray)}.slider-block{background:linear-gradient(180deg,#fff,rgba(255,255,255,.94));border:1px solid var(--gray);border-radius:14px;padding:1rem}.slider-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:.8rem}.slider-value{font-weight:900;color:var(--accent)}.range{appearance:none;width:100%;height:.65rem;border-radius:999px;background:rgba(99,102,241,.15);outline:none}.range::-webkit-slider-thumb{appearance:none;width:1.2rem;height:1.2rem;border-radius:50%;background:linear-gradient(180deg,var(--accent),var(--secondary));border:2px solid #fff;box-shadow:0 6px 16px rgba(236,72,153,.35)}.tag{font-weight:900;font-size:.9rem;padding:.35rem .8rem;border-radius:999px;color:#fff}.tag.low{background:var(--success)}.tag.mid{background:var(--warning)}.tag.high{background:var(--error)}.tag.crit{background:#7e22ce}.switch{display:flex;justify-content:space-between;align-items:center;margin-bottom:.9rem}.tog{position:relative;width:3.1rem;height:1.6rem}.tog input{opacity:0;width:0;height:0}.knob{position:absolute;inset:0;border-radius:999px;background:rgba(99,102,241,.2);transition:all .2s}.knob:before{content:"";position:absolute;width:1.2rem;height:1.2rem;border-radius:50%;left:.2rem;top:.2rem;background:#fff;transition:transform .2s}.tog input:checked+.knob{background:linear-gradient(90deg,var(--primary),var(--secondary))}.tog input:checked+.knob:before{transform:translateX(1.5rem)}.proxy-panel{display:none}.proxy-panel.show{display:block}.actions{margin-top:1rem}.cta{width:100%;padding:1rem 1.1rem;border-radius:14px;border:1px solid transparent;background:linear-gradient(90deg,var(--primary),var(--secondary));color:#fff;font-weight:900;font-size:var(--fs-md);cursor:pointer;box-shadow:0 14px 36px -12px rgba(99,102,241,.45);transition:transform .18s,filter .18s}.cta:disabled{filter:saturate(.2) brightness(.9);cursor:not-allowed}.cta:active{transform:translateY(1px)}.lock{position:absolute;inset:0;display:none;align-items:center;justify-content:center;border-radius:var(--r);background:linear-gradient(0deg,rgba(15,23,42,.18),rgba(15,23,42,.18));backdrop-filter:blur(1px);z-index:5}.lock.show{display:flex}.lock-card{width:min(520px,92%);background:#fff;border:1px solid var(--gray);border-radius:16px;padding:1rem;box-shadow:0 30px 70px -20px rgba(2,6,23,.15);text-align:center}.lock-title{font-weight:900;font-size:var(--fs-md);color:var(--dark)}.lock-sub{color:var(--dark-gray);margin:.4rem 0 1rem 0;font-size:var(--fs-sm)}.report{margin-block:clamp(1rem,3vw,1.6rem);display:none}.report.show{display:block}.report-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.report-title{display:flex;align-items:center;gap:.7rem;font-weight:900;font-size:var(--fs-lg);color:var(--primary-dark)}.kpi{display:grid;gap:var(--gap);grid-template-columns:repeat(4,minmax(0,1fr))}@media(max-width:980px){.kpi{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(max-width:560px){.kpi{grid-template-columns:1fr}}.kpi .box{background:#fff;border:1px solid var(--gray);border-radius:14px;padding:1rem;text-align:center}.kpi .big{font-size:clamp(1.2rem,4vw,1.8rem);font-weight:900}.progress{margin:1.2rem 0}.progress-top{display:flex;justify-content:space-between;margin-bottom:.45rem;font-weight:700;font-size:var(--fs-sm);color:var(--darker-gray)}.bar{height:.9rem;border-radius:999px;background:rgba(99,102,241,.15);overflow:hidden;border:1px solid var(--gray)}.fill{height:100%;width:0;background:linear-gradient(90deg,var(--primary),var(--secondary))}.eta{display:flex;align-items:center;justify-content:center;gap:.4rem;margin-top:.6rem;color:var(--dark-gray)}.success{margin-top:1rem;display:none;text-align:center;border:2px dashed rgba(16,185,129,.5);border-radius:14px;padding:1rem;background:rgba(16,185,129,.08)}.success.show{display:block}.success h3{margin:0 0 .4rem 0;color:var(--success);font-size:var(--fs-lg)}footer{color:var(--dark-gray);text-align:center;font-size:var(--fs-sm);padding:1.6rem 0}@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}</style></head><body><div class="container"><header><div class="brand"><div class="brand-badge"><i class="fa-solid fa-robot"></i></div><div class="brand-title">Reporting Bot</div></div><p class="tagline">A solução definitiva para remoção de perfis e páginas indesejadas em redes sociais</p></header><div class="userbar"><div class="usercard"><div class="user-left"><div class="avatar"><i class="fa-solid fa-user"></i></div><div><div class="hello">Bem-vindo(a), <span id="user-name">{{ username or 'Usuário' }}</span></div><div class="chips"><span id="user-plan" class="chip plan">Padrão</span><span id="plan-status" class="chip status limited"><i class="fa-solid fa-lock"></i> Acesso limitado</span></div></div></div><div class="btns"><a class="btn outline" id="logout-btn" href="/logout"><i class="fa-solid fa-right-from-bracket"></i> Sair</a><button class="btn" id="upgrade-btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> Atualizar plano</button></div></div></div><div class="grid"><section class="card"><h2 class="section-title"><i class="fa-solid fa-sparkles"></i> Plataforma de Denúncias Automatizadas</h2><div class="features"><div class="feature"><i class="fa-solid fa-earth-americas"></i><div><h4>Rede Global de Proxies</h4><p>Mais de 2500 servidores em 120 países garantem origens únicas e evasão de padrões detectáveis.</p></div></div><div class="feature"><i class="fa-solid fa-user-astronaut"></i><div><h4>Identidades Virtuais</h4><p>Perfis digitais com histórico, cookies e dispositivo simulados para parecerem reais.</p></div></div><div class="feature"><i class="fa-solid fa-wand-magic-sparkles"></i><div><h4>Padronização Inteligente</h4><p>IA ajusta horários, dispositivos e textos conforme políticas de moderação.</p></div></div><div class="feature"><i class="fa-solid fa-shield-halved"></i><div><h4>Camadas de Segurança</h4><p>Criptografia e múltiplos nós de proteção para anonimato e resiliência.</p></div></div></div></section><section class="card form"><div class="lock" id="gate-overlay"><div class="lock-card"><div class="lock-title" id="gate-title">Plano Padrão ativo</div><div class="lock-sub" id="gate-sub">Para liberar todas as funcionalidades, atualize seu plano</div><div style="display:flex;gap:.6rem;justify-content:center"><button class="btn" id="upgrade-btn-overlay"><i class="fa-solid fa-qrcode"></i> Atualizar plano</button></div></div></div><h2 class="section-title"><i class="fa-solid fa-flag"></i> Iniciar Denúncia</h2><div class="row"><div><div class="label"><i class="fa-solid fa-mobile-screen-button"></i> Selecione a Plataforma</div><div class="select-wrap"><input type="hidden" id="platform" value=""><button type="button" class="select-trigger" id="platform-trigger"><div class="select-left"><span class="select-icon" id="platform-icon"><i class="fa-solid fa-hashtag"></i></span><span class="select-label" id="platform-label">Selecione uma plataforma</span></div><i class="fa-solid fa-chevron-down chev" id="platform-chev"></i></button><div class="menu" id="platform-menu"><div class="opt" data-value="instagram"><i class="fa-brands fa-instagram"></i><span>Instagram</span></div><div class="opt" data-value="facebook"><i class="fa-brands fa-facebook"></i><span>Facebook</span></div><div class="opt" data-value="tiktok"><i class="fa-brands fa-tiktok"></i><span>TikTok</span></div></div></div></div><div><div class="label"><i class="fa-solid fa-link"></i> URL do Perfil/Página</div><input id="url" class="input" type="text" placeholder="Escolha a plataforma para ver o formato"></div></div><div class="row two" style="margin-top:.6rem"><div class="slider-block"><div class="slider-row"><div class="badge"><i class="fa-solid fa-bullseye"></i><span>Quantidade de Denúncias</span></div><div class="slider-value" id="report-count-value">5.000</div></div><input id="report-count-slider" class="range" type="range" min="100" max="15950" value="5000"><div style="margin-top:.6rem;display:flex;gap:.6rem;align-items:center"><span class="tag low" id="report-count-tag">BAIXO RISCO</span><span id="report-count-title" style="font-weight:800;font-size:.95rem;color:var(--darker-gray)">Operação de Baixo Risco</span></div><p id="report-count-description" style="margin:.45rem 0 0 0;color:var(--dark-gray);font-size:var(--fs-sm)">Esta quantidade de denúncias é segura e discreta. O sistema distribuirá ao longo de horas; chance de detecção inferior a 5%.</p></div><div class="slider-block"><div class="switch"><div class="label" style="margin:0"><i class="fa-solid fa-user-secret"></i> Ativar Rede de Proxies</div><label class="tog"><input type="checkbox" id="proxy-toggle" checked><span class="knob"></span></label></div><div id="proxy-panel" class="proxy-panel show"><div class="slider-row"><div class="badge"><i class="fa-solid fa-sitemap"></i><span>Proxies Ativos</span></div><div class="slider-value" id="proxy-value">750</div></div><input id="proxy-slider" class="range" type="range" min="150" max="1065" value="750"><div style="display:flex;gap:.5rem;align-items:center;margin-top:.6rem"><span class="tag" id="proxy-tag" style="background:var(--success)">CONFIGURAÇÃO IDEAL</span><span style="font-size:var(--fs-sm);color:var(--dark-gray)" id="proxy-hint">Rotação de IP a cada 8s com baixa detecção</span></div></div></div></div><div class="actions"><button id="report-btn" class="cta"><i class="fa-solid fa-bolt"></i> Iniciar Denúncias Automatizadas</button></div></section></div><section class="card report" id="report-container"><div class="report-head"><div class="report-title"><i class="fa-solid fa-file-lines"></i> Relatório de Denúncias</div><div class="chip status ok">Em progresso</div></div><div class="kpi"><div class="box"><div class="badge" style="justify-content:center"><i id="report-icon" class="fa-brands fa-instagram"></i><span id="report-platform">Instagram</span></div></div><div class="box"><div style="font-size:var(--fs-sm);color:var(--dark-gray)">URL Reportada</div><div id="report-url" class="big" style="word-break:break-word">https://www.instagram.com/usuario</div></div><div class="box"><div style="font-size:var(--fs-sm);color:var(--dark-gray)">Denúncias Enviadas</div><div id="report-count-display" class="big">0</div></div><div class="box"><div style="font-size:var(--fs-sm);color:var(--dark-gray)">Proxies Ativos</div><div id="report-proxy-count" class="big">750</div></div></div><div class="progress"><div class="progress-top"><div>Progresso</div><div id="progress-percent">0%</div></div><div class="bar"><div class="fill" id="progress-fill"></div></div><div class="eta"><i class="fa-regular fa-clock"></i><span>Tempo estimado:</span><span id="eta-value">Calculando...</span></div></div><div class="success" id="result-message"><h3><i class="fa-solid fa-circle-check"></i> Perfil não está disponível</h3><p style="margin:0;color:var(--dark-gray)">O link pode estar corrompido ou o perfil pode ter sido removido. As sinalizações foram processadas com sucesso.</p></div></section><footer>Reporting Bot © 2025 • Todos os direitos reservados</footer></div><script>const $=e=>document.getElementById(e),fmt=n=>Number(n).toLocaleString("pt-BR");const state={plan:"padrao",daily_limit:0,remaining_today:0,expires_at:null};const proxyToggleEl=$("proxy-toggle"),proxyPanelEl=$("proxy-panel"),proxySliderEl=$("proxy-slider"),proxyValEl=$("proxy-value"),proxyTagEl=$("proxy-tag"),proxyHintEl=$("proxy-hint"),etaEl=$("eta-value"),rcSliderEl=$("report-count-slider"),rcValEl=$("report-count-value"),rcTagEl=$("report-count-tag"),rcTitleEl=$("report-count-title"),rcDescEl=$("report-count-description"),startBtn=$("report-btn"),gateEl=$("gate-overlay"),gateTitle=$("gate-title"),gateSub=$("gate-sub"),userPlanEl=$("user-plan"),planStatusEl=$("plan-status"),upgradeBtn=$("upgrade-btn"),upgradeBtn2=$("upgrade-btn-overlay"),platformHidden=$("platform"),platformTrigger=$("platform-trigger"),platformMenu=$("platform-menu"),platformLabel=$("platform-label"),platformIcon=$("platform-icon"),platformChev=$("platform-chev"),urlInput=$("url"),reportBox=$("report-container"),reportIcon=$("report-icon"),reportPlatform=$("report-platform"),reportUrl=$("report-url"),reportCount=$("report-count-display"),reportProxy=$("report-proxy-count"),progressFill=$("progress-fill"),progressPct=$("progress-percent"),resultMsg=$("result-message");const PLACEHOLDER={instagram:"https://www.instagram.com/usuario",facebook:"https://www.facebook.com/pagina",tiktok:"https://www.tiktok.com/@usuario"},ICON={instagram:"fa-brands fa-instagram",facebook:"fa-brands fa-facebook",tiktok:"fa-brands fa-tiktok"};function setPlanBadge(p,remain,limit,exp){let label="Padrão",cls="";if(p==="essencial"){label="Essencial";cls="essencial"}else if(p==="profissional"){label="Profissional";cls="profissional"}else if(p==="vitalicio"){label="Vitalício";cls="vitalicio"}userPlanEl.textContent=label;userPlanEl.className="chip plan"+(cls?" "+cls:"");if(p==="padrao"){planStatusEl.className="chip status limited";planStatusEl.innerHTML='<i class="fa-solid fa-lock"></i> Acesso limitado'}else{planStatusEl.className="chip status ok";planStatusEl.textContent=limit===null?"Acesso liberado":"Hoje: "+fmt(remain)+" restante(s)"}}
function gate(allow,reason){gateEl.classList.toggle("show",!allow);[platformHidden,urlInput,rcSliderEl,proxyToggleEl,proxySliderEl,startBtn].forEach(el=>{if(el)el.disabled=!allow});if(!allow){if(reason==="padrao"){gateTitle.textContent="Plano Padrão ativo";gateSub.textContent="Para liberar todas as funcionalidades, atualize seu plano"}else if(reason==="sem_cota"){gateTitle.textContent="Limite diário esgotado";gateSub.textContent="Aguarde a renovação diária ou atualize seu plano"}else{gateTitle.textContent="Acesso indisponível";gateSub.textContent="Verifique seu plano em /plans"}}}
async function fetchStatus(){try{const r=await fetch("/api/plan/status",{credentials:"same-origin"});if(r.status===401){location.href="/login";return}const j=await r.json();if(!r.ok||!j||j.plan==="padrao"){state.plan="padrao";state.daily_limit=0;state.remaining_today=0;setPlanBadge("padrao",0,0,null);gate(false,"padrao");return}state.plan=j.plan||"padrao";state.daily_limit=(j.daily_limit===null)?null:(j.daily_limit||0);state.remaining_today=(j.remaining_today===null)?null:(j.remaining_today||0);state.expires_at=j.expires_at||null;setPlanBadge(state.plan,state.remaining_today,state.daily_limit,state.expires_at);if(state.plan==="padrao")gate(false,"padrao");else if(state.daily_limit!==null&&state.remaining_today<=0)gate(false,"sem_cota");else gate(true)}catch(e){state.plan="padrao";setPlanBadge("padrao",0,0,null);gate(false,"padrao")}}
function goPlans(){location.href="/plans"}upgradeBtn.addEventListener("click",goPlans);if(upgradeBtn2)upgradeBtn2.addEventListener("click",goPlans);platformTrigger.addEventListener("click",()=>{platformMenu.classList.toggle("open");platformChev.style.transform=platformMenu.classList.contains("open")?"rotate(180deg)":"rotate(0)"});document.addEventListener("click",e=>{if(!platformTrigger.contains(e.target)&&!platformMenu.contains(e.target)){platformMenu.classList.remove("open");platformChev.style.transform="rotate(0)"}});
Array.from(platformMenu.querySelectorAll(".opt")).forEach(opt=>opt.addEventListener("click",()=>{const v=opt.getAttribute("data-value");platformHidden.value=v;platformLabel.textContent=opt.innerText.trim();platformIcon.innerHTML='<i class="'+ICON[v]+'"></i>';urlInput.placeholder=PLACEHOLDER[v]||"Insira a URL";platformMenu.classList.remove("open");platformChev.style.transform="rotate(0)"}));
proxyToggleEl.addEventListener("change",()=>{const on=proxyToggleEl.checked;proxyPanelEl.classList.toggle("show",on);proxySliderEl.disabled=!on;if(on){const val=parseInt(proxySliderEl.value,10);proxyValEl.textContent=val;proxyTagEl.textContent="CONFIGURAÇÃO IDEAL";proxyTagEl.style.background=varSuccess();proxyHintEl.textContent="Rotação de IP a cada 8s com baixa detecção"}else{proxyValEl.textContent="0";proxyTagEl.textContent="DESATIVADO";proxyTagEl.style.background="#9aa1b6";proxyHintEl.textContent="Nenhum proxy será utilizado"}});function varSuccess(){return getComputedStyle(document.documentElement).getPropertyValue("--success").trim()||"#10b981"}
proxySliderEl.addEventListener("input",()=>{const v=parseInt(proxySliderEl.value,10);proxyValEl.textContent=v;if(v>=700&&v<=800){proxyTagEl.textContent="CONFIGURAÇÃO IDEAL";proxyTagEl.style.background=varSuccess();proxyHintEl.textContent="Rotação de IP a cada 8s com baixa detecção"}else if(v>=500&&v<700){proxyTagEl.textContent="VELOCIDADE MODERADA";proxyTagEl.style.background="#f59e0b";proxyHintEl.textContent="Bom equilíbrio entre velocidade e sigilo"}else if(v>800&&v<=950){proxyTagEl.textContent="ALTO DESEMPENHO";proxyTagEl.style.background="#6366f1";proxyHintEl.textContent="Mais velocidade com leve aumento de risco"}else if(v>950){proxyTagEl.textContent="RISCO DE DETECÇÃO";proxyTagEl.style.background="#ef4444";proxyHintEl.textContent="Risco elevado; use com cautela"}else{proxyTagEl.textContent="CONFIGURAÇÃO LEVE";proxyTagEl.style.background="#6b7280";proxyHintEl.textContent="Menor carga e sigilo elevado"}});
function updateRisk(v){rcValEl.textContent=fmt(v);if(v<2000){rcTagEl.className="tag low";rcTagEl.textContent="BAIXO RISCO";rcTitleEl.textContent="Operação de Baixo Risco";rcDescEl.textContent="Distribuição suave ao longo de horas; chance de detecção inferior a 5%."}else if(v<6000){rcTagEl.className="tag mid";rcTagEl.textContent="RISCO MODERADO";rcTitleEl.textContent="Operação Moderada";rcDescEl.textContent="Ajustes automáticos para evitar padrões; detecção 5–15%."}else if(v<12000){rcTagEl.className="tag high";rcTagEl.textContent="ALTO RISCO";rcTitleEl.textContent="Operação de Alto Impacto";rcDescEl.textContent="Ofuscação e distribuição avançadas; detecção 15–30%."}else{rcTagEl.className="tag crit";rcTagEl.textContent="RISCO CRÍTICO";rcTitleEl.textContent="Operação de Máxima Intensidade";rcDescEl.textContent="Protocolos máximos e proxies premium; detecção 30–50%."}}
rcSliderEl.addEventListener("input",e=>updateRisk(parseInt(e.target.value,10)));updateRisk(5000);
startBtn.addEventListener("click",async()=>{if(state.plan==="padrao"){goPlans();return}const platform=platformHidden.value.trim(),target=urlInput.value.trim(),proxyCount=proxyToggleEl.checked?parseInt(proxySliderEl.value,10):0,reportCountNum=parseInt(rcSliderEl.value,10);if(!platform){alert("Por favor, selecione uma plataforma");return}if(!target){alert("Por favor, insira a URL do perfil");return}if(reportCountNum>15950){alert("A quantidade máxima de denúncias é 15.950");return}if(state.daily_limit!==null&&state.remaining_today<=0){gate(false,"sem_cota");return}
try{const res=await fetch("/api/usage/consume",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({count:1})});const j=await res.json();if(!res.ok||j.ok===false){if(j.error==="Plano insuficiente"){goPlans();return}if(j.error==="Limite diário excedido"){state.remaining_today=0;setPlanBadge(state.plan,0,state.daily_limit,null);gate(false,"sem_cota");return}alert("Não foi possível iniciar.");return}
if(state.daily_limit!==null){state.remaining_today=typeof j.remaining_today==="number"?j.remaining_today:(state.remaining_today-1);setPlanBadge(state.plan,state.remaining_today,state.daily_limit,null)}
reportBox.classList.add("show");resultMsg.classList.remove("show");if(platform==="instagram"){reportIcon.className=ICON.instagram;reportPlatform.textContent="Instagram"}if(platform==="facebook"){reportIcon.className=ICON.facebook;reportPlatform.textContent="Facebook"}if(platform==="tiktok"){reportIcon.className=ICON.tiktok;reportPlatform.textContent="TikTok"}reportUrl.textContent=target;reportCount.textContent="0";reportProxy.textContent=fmt(proxyCount);
const base=Math.max(30000,reportCountNum*15),varm=base*0.4,dur=base+Math.floor(Math.random()*varm)-varm/2,start=Date.now(),end=start+dur;let lastEta="";(function tickEta(){const now=Date.now();if(now<end){const rem=end-now,min=Math.max(0,Math.floor(rem/60000)),sec=Math.max(0,Math.floor((rem%60000)/1000)),t=`${min}m ${String(sec).padStart(2,"0")}s`;if(t!==lastEta){etaEl.textContent=t;lastEta=t}setTimeout(tickEta,1000)}else etaEl.textContent="Processo concluído"})();
(function tickBar(){const now=Date.now(),p=Math.min(100,(now-start)/dur*100);progressFill.style.width=p+"%";progressPct.textContent=Math.floor(p)+"%";if(p<100)requestAnimationFrame(tickBar)})();
let c=0,inc=Math.ceil(reportCountNum/(dur/100));(function tickCount(){const now=Date.now();if(now<start+dur){c=Math.min(reportCountNum,c+inc);reportCount.textContent=fmt(c);setTimeout(tickCount,100)}else{reportCount.textContent=fmt(reportCountNum);progressFill.style.width="100%";progressPct.textContent="100%";setTimeout(()=>{resultMsg.classList.add("show");if(state.daily_limit!==null&&state.remaining_today<=0)gate(false,"sem_cota")},800)}})()
}catch(e){alert("Erro ao iniciar. Tente novamente.")}});
window.addEventListener("load",fetchStatus);</script></body></html>